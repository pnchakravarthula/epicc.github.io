{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/functions/functions.js"],"names":["default_dxmap","default_hccmap","default_hcccoefn","fetch","then","response","json","data","err","default_ver","default_model","default_baserate","default_verbose","default_never_trump","interactions","v22_interactions","v23_interactions","v24_interactions","dx_raf","dx_array","age","ver","model","sex","disabl","verbose","never_trump","baserate","i","length","j","temp_dx_array","toString","split","raf_value","dx2raf","clean_dx","dx_values","clean_dxlist","dx_set_values","forEach","v","push","clean_cc","cc_array","temp_cc_array","hcc_values","clean_hcclist","dx_list","hccs","dx2hcc","raf","get_raf","dx_dct","dx_hccs","unique_hccs","dxdct_hccs","collator","Intl","Collator","undefined","numeric","sensitivity","sort","compare","dxmap","hccmap","unique_dx","dx","JSON","parse","stringify","agesex_edits","Set","key","hasOwnProperty","hcc","add","got_trumped","child","temp_a","temp_b","c","map","e","temp_c","trumped_hcc","hcc_list","Array","from","list_dx","String","replace","toUpperCase","dx_set","hcc_map","hcc_list_temp","isNaN","trim","hcc1","hcc_set","hcc2","ed_leukemia","ed_bronchitis","ed_vasc_insf","ed_emphysema","ed_breastca","ed_low_bw","ed_conjoined","ed_newbn_substance","ed_chron_resp","ed_disruptive_mood","ed_hemophilia","includes","female_sex","edit_dct","demo_lst","hcc_lst","toLowerCase","hcccoefn","demo_detail","hcc_detail","demo_raf","hcc_raf","demo","label","score","toFixed","raf_dct","ccs","cc_set","int_hccs","diag_cats","my_dcs","key_set","new_values","filter","x","has","int_hccs_new","size","concat","cnt","index"],"mappings":"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","file":"functions.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/functions/functions.js\");\n","var default_dxmap, default_hccmap, default_hcccoefn;\nfetch('/dist/load_dxmap.json')\n  .then(response => {\n    return response.json();\n  })\n  .then(data => {\n    // Work with JSON data here\n    default_dxmap = data;\n  })\n  .catch(err => {\n    // Do something for an error here\n  });\nfetch('/dist/load_hccmap.json')\n  .then(response => {\n    return response.json();\n  })\n  .then(data => {\n    // Work with JSON data here\n    default_hccmap = data;\n  })\n  .catch(err => {\n    // Do something for an error here\n  });\nfetch('/dist/load_hcccoefn.json')\n  .then(response => {\n    return response.json();\n  })\n  .then(data => {\n    // Work with JSON data here\n    default_hcccoefn = data;\n  })\n  .catch(err => {\n    // Do something for an error here\n  });\nvar default_ver = 'v23';\nvar default_model = 'CNA'; \nvar default_baserate = 868.0;\nvar default_verbose = true;\nvar default_never_trump = 0;\nvar interactions = {'v22': v22_interactions, 'v23': v23_interactions, 'v24': v24_interactions};\n\n/**\n * Utility to calculate raf from list of DX codes\n * @customfunction\n * @param {string[][]} dx_array accepts array of dx codes\n */\nfunction dx_raf(dx_array, age = 0, ver = '', model = '', sex = '', disabl = false, verbose = false, never_trump = 0, baserate = 0.0) {\n  /*\n  Utility to calculate raf from list of DX codes\n  */\n  for (i = 0; i < dx_array.length; i++) {\n    for (j = 0; j < dx_array[i].length; j++) {\n      dx_array = dx_array;\n    }\n  }\n  var temp_dx_array = dx_array.toString();\n  temp_dx_array = temp_dx_array.split(\",\");\n\n  var raf_value = dx2raf(temp_dx_array, age, ver, model, sex, disabl, verbose, never_trump, baserate);\n  return raf_value.toString();\n}\n\n/**\n * Convert string to list, dedupe, and ensure DX are formatted correctly.\n * @customfunction\n * @param {string[][]} dx_array accepts array of dx codes\n */\nfunction clean_dx(dx_array, ver = '') {\n  // Convert string to list, dedupe, and ensure DX are formatted correctly.\n  for (i = 0; i < dx_array.length; i++) {\n    for (j = 0; j < dx_array[i].length; j++) {\n      dx_array = dx_array;\n    }\n  }\n  var temp_dx_array = dx_array.toString();\n  temp_dx_array = temp_dx_array.split(\",\");\n\n  var dx_values = clean_dxlist(temp_dx_array, ver);\n  var dx_set_values = [];\n  dx_values.forEach(v => dx_set_values.push(v));\n  return dx_set_values.toString();\n}\n\n/**\n * clean hcc\n * @customfunction\n * @param {string[][]} cc_array accepts array of hcc codes\n */\nfunction clean_cc(cc_array, ver = '') {\n  for (i = 0; i < cc_array.length; i++) {\n      for (j = 0; j < cc_array[i].length; j++) {\n        cc_array = cc_array;\n      }\n  }\n  var temp_cc_array = cc_array.toString();\n  temp_cc_array = temp_cc_array.split(\",\");\n\n  var hcc_values = clean_hcclist(temp_cc_array, ver = '');\n  hcc_values = hcc_values.toString();\n  return hcc_values;\n}\n\n\nfunction dx2raf(dx_list, age = 0, ver = '', model = '', sex = '', disabl = false, verbose = false, never_trump = 0, baserate = 0.0) {\n  /*\n  Utility to calculate raf from list of DX codes\n  */\n  ver = ver || default_ver;\n  model = model || default_model;\n  baserate = baserate || default_baserate;\n  never_trump = never_trump || never_trump;\n\n  var hccs = dx2hcc(dx_list, age, ver, sex, disabl, never_trump, verbose);\n  var raf = get_raf([], hccs, ver = ver, model = model, baserate = baserate);\n  return raf[\"hcc_score\"];\n}\n\nfunction dx2hcc(dx_list, age = 0, ver = '', sex = '', disabl = false, never_trump = 0, verbose = false) {\n  /*\n  Utility to calculate a list of unique, trumped, HCCs from dx codes, includes interactions and age/sex edits.\n  :param dx_list: list of str\n                  List of DX Codes (case and decimal insensitive)\n  :param ver: str\n              HCC Model version\n  :param age: float\n              Beneficiary age\n  :param verbose:\n  :param disabl: bool\n                  Disability flag\n  :param sex: Gender {\"M\" or \"F\"}\n  :return: list of str\n          List of HCC codes\n  */\n  ver = ver || default_ver;\n  never_trump = never_trump || default_never_trump;\n  var dx_dct = dx_hccs(dx_list, ver = ver, age = age, sex = sex, verbose = verbose);\n  var unique_hccs = dxdct_hccs(dx_dct, never_trump = never_trump);\n  var collator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\n  unique_hccs.sort(collator.compare);\n  unique_hccs = interactions[ver](unique_hccs, disabl, age);\n  return unique_hccs;\n}\n\nfunction dx_hccs(dx_list, ver = '', age = 0, sex = '', verbose = true) {\n  /*\n  Look up the HCC code for each unique DX code in a list of DX. Includes trumping and agesex edits\n  :param dx_list: list of str\n                  List of dx codes; case and decimal insensitive\n  :param ver: str\n              Optional HCC version. Otherwise uses default version of ccalc object\n  :param age: float\n              Member age\n  :param sex: str\n              Member gender {\"M\"/\"F\"}\n  :param verbose: bool\n                  Include Non HCC DX in outputs\n  :return: dict\n          Dict of unique DX codes and their corresponding hcc codes\n  */\n  ver = ver || default_ver;\n  verbose = verbose || default_verbose;\n\n  var dxmap = default_dxmap[ver];\n  var hccmap = default_hccmap[ver];\n\n  var dx_dct = {};\n\n  var unique_dx = clean_dxlist(dx_list, ver);\n  // Validate DX against model and pull in DX info  \n  for (var dx of unique_dx) {\n      if (dx in dxmap) {\n          dx_dct[dx] = JSON.parse(JSON.stringify(dxmap[dx]));\n      } else if (verbose) {\n          dx_dct[dx] = { \"desc\": \"\", \"hccs\": {} };\n      }\n  }\n\n  if (age && sex) {  // age and sex are optional. w/o them this function can still generically do dx->hcc calcs\n      agesex_edits(dx_dct, age, sex);\n  }\n\n  // Find all unique HCCs that are valid in the hcc ver\n  var unique_hccs = new Set();\n\n  for (var key in dx_dct) {\n      if (dx_dct.hasOwnProperty(key)) {\n          for (var hcc in dx_dct[key]['hccs']) {\n              if (dx_dct[key]['hccs'].hasOwnProperty(hcc)) {\n                  if (dx_dct[key]['hccs'][hcc] in hccmap) {\n                      unique_hccs.add(dx_dct[key]['hccs'][hcc]);\n                  }\n              }\n          }\n      }\n  };\n\n  var got_trumped = {};\n  for (var hcc of unique_hccs) {\n      for (var child of hccmap[hcc]['children']) {\n          got_trumped[child] = hcc;\n      }\n  }\n\n  // Apply trumping and convert to HCC sets to lists (better for json serialization)\n\n  for (var dx in dx_dct) {\n      if (dx_dct.hasOwnProperty(dx)) {\n          var temp_a = dx_dct[dx]['hccs'];\n          var temp_b = [];\n          for (var i in dx_dct[dx]['hccs']) {\n              temp_b.push({ 'desc': hccmap[dx_dct[dx]['hccs'][i]]['desc'] });\n          }\n          var c = temp_a.map(function (e, i) {\n              return [e, temp_b[i]];\n          });\n          var temp_c = {};\n          for (var key in c) {\n              if (c.hasOwnProperty(key)) {\n                  temp_c[c[key][0]] = c[key][1];\n              }\n          }\n          dx_dct[dx]['hccs'] = temp_c;\n          for (var trumped_hcc in got_trumped) {\n              if (got_trumped.hasOwnProperty(trumped_hcc)) {\n                  if (got_trumped[trumped_hcc] in dx_dct[dx]['hccs']) { // If we find trumped HCC, replace with note of its demise\n                      dx_dct[dx]['hccs'][got_trumped[trumped_hcc]]['trumped by'] = got_trumped[got_trumped[trumped_hcc]];\n                  }\n              }\n          }\n      }\n  }\n  return dx_dct;\n}\n\nfunction dxdct_hccs(dx_dct, never_trump = 0) {\n  never_trump = never_trump || default_never_trump;\n  var hcc_list = new Set();\n\n  if (never_trump == 0) {\n      for (var key in dx_dct) {\n          if (dx_dct.hasOwnProperty(key)) {\n              for (var hcc in dx_dct[key]['hccs']) {\n                  if (dx_dct[key]['hccs'].hasOwnProperty(hcc)) {\n                      if (!(dx_dct[key]['hccs'][hcc].hasOwnProperty(['trumped by']))) {\n                        hcc_list.add(hcc);                          \n                      }\n                  }\n              }\n          }\n      }\n      hcc_list = Array.from(hcc_list);\n      var collator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\n      hcc_list.sort(collator.compare);\n  } else {\n    var hcc_list = new Set();\n    for (var key in dx_dct) {\n        if (dx_dct.hasOwnProperty(key)) { \n            for (var hcc in dx_dct[key]['hccs']){\n                hcc_list.add(dx_dct[key]['hccs'][hcc]);\n            }\n        }\n    }\n    hcc_list = Array.from(hcc_list);\n    var collator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\n    hcc_list.sort(collator.compare);\n  }\n  return hcc_list;\n}\n\nfunction clean_dxlist(dx_list, ver = '') {\n  // Convert string to list, dedupe, and ensure DX are formatted correctly.\n  ver = ver || default_ver;\n  var dxmap = default_dxmap[ver];\n  var list_dx = [];\n  for (var i in dx_list) {\n      if (dx_list[i] != '') {\n          list_dx[i] = (String(dx_list[i]).replace('.', '')).toUpperCase();\n      }\n  }\n  if (typeof (list_dx) == 'string') {\n      list_dx = list_dx.split(/\\s*,\\s*|\\s+|\\s*;\\s*|\\s*:\\s*/);\n  }\n  var dx_set = new Set();\n  for (var dx of list_dx) {\n      if (dxmap.hasOwnProperty(dx)) {\n          dx_set.add(dx);\n      }\n  }\n  return dx_set;\n}\n\nfunction clean_hcclist(hcc_list, ver = '') {\n  ver = ver || default_ver;\n  var hcc_map = default_hccmap[ver];\n\n  if (typeof hcc_list == 'string') {\n    hcc_list = hcc_list.split(/\\s*,\\s*|\\s+|\\s*;\\s*|\\s*:\\s*/);\n  }\n  else if (typeof hcc_list == 'number') {\n    hcc_list = [hcc_list];\n  }\n\n  // If you got integers, add the HCC prefix. If strings, make sure they're stripped and uppercase\n  var hcc_list_temp = [];\n  for (var hcc of hcc_list) {\n      if (!isNaN(hcc.toString().trim())) {\n          hcc_list_temp.push(\"HCC\" + hcc.toString().trim());\n      } else {\n          hcc_list_temp.push(hcc.trim().toUpperCase());\n      }\n  }\n  hcc_list = hcc_list_temp;\n  //Replacing HCC019 to HCC19\n  var hcc_list_temp = [];\n  for (var hcc1 of hcc_list) {\n      hcc_list_temp.push(hcc1.replace(/HCC0+/, 'HCC'));\n  }\n  hcc_list = hcc_list_temp;\n\n  // We want HCC1 rather than HCC001, etc.\n  var hcc_set = new Set();\n  for (var hcc2 of hcc_list) {\n      if (hcc_map.hasOwnProperty(hcc2)) {\n          hcc_set.add(hcc2);\n      }\n  }\n  return Array.from(hcc_set);\n}\n\n\nfunction agesex_edits(dx_dct, age, sex) {\n  /*\n  Edits DX List for a beneficiary based on AGE/SEX (From CMS I0V05ED2.TXT)\n  Valid for V22, V23, V24\n  :param dx_dct: dict\n                 Dict of {DX:HCC}\n  :param age: float\n              Age of member\n  :param sex: str\n              Member's gender\n  :return: dx_dct: dict\n              Dictionary of {DX:HCC} edited per member age/sex rules\n  */\n  var ed_leukemia = [\"C9100\", \"C9101\", \"C9102\", \"C9500\", \"C9501\", \"C9502\",\n      \"C7400\", \"C7401\", \"C7402\", \"C7410\", \"C7411\", \"C7412\",\n      \"C7490\", \"C7491\", \"C7492\"];\n\n  var ed_bronchitis = [\"J410\", \"J411\", \"J418\", \"J42\", \"J440\", \"J441\"];\n\n  var ed_vasc_insf = [\"K55011\", \"K55012\", \"K55019\", \"K55021\", \"K55022\",\n      \"K55029\", \"K55031\", \"K55032\", \"K55039\", \"K55041\", \"K55042\",\n      \"K55049\", \"K55051\", \"K55052\", \"K55059\", \"K55061\", \"K55062\",\n      \"K55069\", \"K5530\", \"K5531\", \"K5532\", \"K5533\"];\n\n  var ed_emphysema = [\"J430\", \"J431\", \"J432\", \"J438\", \"J439\", \"J449\", \"J982\", \"J983\"];\n\n  var ed_breastca = [\"C50011\", \"C50012\", \"C50019\", \"C50021\", \"C50022\", \"C50029\",\n      \"C50111\", \"C50112\", \"C50119\", \"C50121\", \"C50122\", \"C50129\",\n      \"C50211\", \"C50212\", \"C50219\", \"C50221\", \"C50222\", \"C50229\",\n      \"C50311\", \"C50312\", \"C50319\", \"C50321\", \"C50322\", \"C50329\",\n      \"C50411\", \"C50412\", \"C50419\", \"C50421\", \"C50422\", \"C50429\",\n      \"C50511\", \"C50512\", \"C50519\", \"C50521\", \"C50522\", \"C50529\",\n      \"C50611\", \"C50612\", \"C50619\", \"C50621\", \"C50622\", \"C50629\",\n      \"C50811\", \"C50812\", \"C50819\", \"C50821\", \"C50822\", \"C50829\",\n      \"C50911\", \"C50912\", \"C50919\", \"C50921\", \"C50922\", \"C50929\"];\n\n  var ed_low_bw = [\"P0500\", \"P0501\", \"P0502\", \"P0503\", \"P0504\", \"P0505\",\n      \"P0506\", \"P0507\", \"P0508\", \"P0509\", \"P0510\", \"P0511\",\n      \"P0512\", \"P0513\", \"P0514\", \"P0515\", \"P0516\", \"P0517\",\n      \"P0518\", \"P0519\", \"P052\", \"P059\", \"P0700\", \"P0701\",\n      \"P0702\", \"P0703\", \"P0710\", \"P0714\", \"P0715\", \"P0716\",\n      \"P0717\", \"P0718\", \"P0720\", \"P0721\", \"P0722\", \"P0723\",\n      \"P0724\", \"P0725\", \"P0726\", \"P0730\", \"P0731\", \"P0732\",\n      \"P0733\", \"P0734\", \"P0735\", \"P0736\", \"P0737\", \"P0738\",\n      \"P0739\", \"P080\", \"P081\", \"P0821\", \"P0822\"];\n\n  var ed_conjoined = [\"Q894\"];\n\n  var ed_newbn_substance = [\"K551\", \"K558\", \"K559\",\n      \"P041\", \"P0411\", \"P0412\", \"P0413\", \"P0414\", \"P0415\",\n      \"P0416\", \"P0417\", \"P0418\", \"P0419\", \"P041A\",\n      \"P042\", \"P043\", \"P0440\", \"P0441\", \"P0442\", \"P0449\",\n      \"P045\", \"P046\", \"P048\", \"P0481\", \"P0489\",\n      \"P049\", \"P930\", \"P938\", \"P961\", \"P962\",\n      \"Q390\", \"Q391\", \"Q392\", \"Q393\", \"Q394\", \"Q6410\",\n      \"Q6411\", \"Q6412\", \"Q6419\", \"Q790\", \"Q791\", \"Q792\",\n      \"Q793\", \"Q794\", \"Q7951\"];\n\n  var ed_chron_resp = [\"P270\", \"P271\", \"P278\", \"P279\"];\n\n  var ed_disruptive_mood = [\"F3481\"];\n\n  var ed_hemophilia = [\"D66\", \"D67\"];\n\n  // Optimal to have the loop outside of the age checks, but this is easier to read\n  for (var dx in dx_dct) {\n\n      // Split acute lymphoid and other acute leukemias, except  myeloid diagnoses to age 18+ (HCC 8)\n      // and age <18 (HCC 9). Split adrenal gland cancer diagnoses to age 18+ (HCC 10) and age <18 (HCC 9).\n      if (age < 18 && ed_leukemia.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC9\"]);\n      }\n\n      // Split chronic bronchitis diagnoses to age 18+ (HCC 160) and age <18 (HCC 161)\n      if (age < 18 && ed_bronchitis.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC161\"]);\n      }\n\n      // Split acute vascular insufficiency of intestine diagnosis to age 2+ (HCC 154) and age <2 (HCC 42)\n      if (age < 2 && ed_vasc_insf.includes(dx)) {\n        dx_dct[dx]['hccs'] = [(\"HCC42\")];\n      }\n\n      // Split breast cancer diagnoses to age 50+ (HCC 12) and age <50 (HCC 11)\n      if (age < 50 && ed_breastca.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC11\"]);\n      }\n\n      // Split emphysema diagnoses to age 18+ (HCC 160) and age 2-17 (HCC160; split not needed in HHS model).\n      // If age <2 out of payment model\n      if (age < 2 && ed_emphysema.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC-1\"]);\n      }\n\n      // Edit for newborn low birthweight. If age 1+ out of payment model\n      if (age != 0 && ed_low_bw.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC-1\"]);\n      }\n\n      // Split conjoined twins diagnoses to age 1+ (HCC 97) and age <1 (HCC 247)\n      if (age >= 1 && ed_conjoined.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC97\"]);\n      }\n\n      // Neonatal effects of maternal drug abuse: If age 2+ out of payment model\n      if (age >= 2 && ed_newbn_substance.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC-1\"]);\n      }\n\n      // Split chronic respiratory disease arising in the perinatal period diagnoses to age 2+\n      // (HCC 162) and age <2 (HCC 127).\n      if (age >= 2 && ed_chron_resp.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC162\"]);\n      }\n\n      // Mood disorder: Edit for targeted age of diagnosis. If age <6 or age >18 out of payment model.\n      if (age < 6 || age > 18 && ed_disruptive_mood.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC-1\"]);\n      }\n\n      // Split hemophilia diagnoses to male (HCC 66 if age <65 or HCC 66 if age 65+; age split not needed in HHS model)\n      //  and female (HCC 75)\n      female_sex = [\"2\", \"F\", \"Female\"];\n      if (female_sex.includes(sex) && ed_hemophilia.includes(dx)) {\n        dx_dct[dx]['hccs'] = ([\"HCC75\"]);\n      }\n  }\n\n  edit_dct = {};  // Build new dict after filtering out all HCCs edited out\n  for (dx in dx_dct) {\n      if (dx_dct[dx]['hccs'] != ([\"HCC-1\"])) {\n          edit_dct[dx] = dx_dct[dx];\n      }\n  }\n\n  return edit_dct;\n}\n\nfunction get_raf(demo_lst, hcc_lst, ver = '', model = '', verbose = true, baserate = 0.0) {\n  /*\n  Look up demographic and hcc RAF for a member given codes. IMPORTANT: ASSUMES HCCs are already clean and deduped\n  and hierarchy. Based on CMS V2218O1P.TXT.  Returns a dict of risk scores in the format:\n  {\n      raf: float of total risk factor,\n      premium: PM PM payment for members of this raf and base rate($)\n      demo_raf: float of demographic risk factor\n      hcc_raf: float of hcc risk factor\n      demo_detail: dict of {demographic_code: demo_raf} for each demographic code in list\n      hcc_defail: dict of {hcc_code: hcc:raf} for each hcc code in list\n  :param model: str\n                  Hcc model for use\n  :param demo_lst: list of str\n                  List of applicable demographic codes for a member (eg CNA_F65_70)\n  :param hcc_lst: list of str\n                  List of hccs (assumes hccs have already been trumped)\n  :param ver: str\n                  Optional HCC version to be used in calculation\n  :param model: str\n          Optional HCC model to be used in calculation\n  :param verbose: bool\n  :param baserate: float\n                  pmpm premium base rate\n  :return: dict\n          raf_dct\n  */\n  ver = ver.toLowerCase() || default_ver;\n  model = (String(model)).toUpperCase() || default_model;\n  baserate = baserate || default_baserate;\n  verbose = verbose || default_verbose;\n\n  var hcccoefn = default_hcccoefn[ver];\n  var demo_detail = {};\n  var hcc_detail = {};\n  var demo_raf = 0.0;\n  var hcc_raf = 0.0;\n\n  for (var demo of demo_lst) {\n      if (hcccoefn.hasOwnProperty(demo)) {\n          demo_detail[demo] = hcccoefn[demo];\n          demo_raf += hcccoefn[demo];\n      }\n  }\n\n  for (var hcc in hcc_lst) {\n      var label = model + \"_\" + hcc_lst[hcc];\n      if (label in hcccoefn) {\n          hcc_detail[label] = hcccoefn[label];\n          hcc_raf += hcccoefn[label];\n      } else if (verbose) {\n          hcc_detail[label] = 0.0;\n      }\n  }\n\n  var score = (demo_raf + hcc_raf).toFixed(4);\n  var raf_dct = {\n      \"score\": score,\n      \"premium\": (score * baserate).toFixed(2),\n      \"demo_score\": (demo_raf).toFixed(4),\n      \"hcc_score\": (hcc_raf).toFixed(4),\n      \"demo_detail\": demo_detail,\n      \"hcc_detail\": hcc_detail\n  };\n  return raf_dct;\n}\n\nfunction v22_interactions(ccs, disabl, age = '') {\n  /*\n  Calculated interaction HCCs given a list of hccs, age, and disability flag\n  :param ccs: List of HCCs in the format \"HCC18\" no trumping or cleaning of HCCs is done in this function\n  :param disabl: CMS disabled flag\n  :param age: Optional age of beneficiary; only one interaction uses age and it will be assumed false if not entered\n  :return: List of HCC codes, including interaction codes\n  */\n  var cc_set = new Set(ccs);\n  var int_hccs = {};\n\n  // diagnostic categories\n\n  var diag_cats = {\n      \"CANCER\": new Set([\"HCC8\", \"HCC9\", \"HCC10\", \"HCC11\", \"HCC12\"]),\n      \"DIABETES\": new Set([\"HCC17\", \"HCC18\", \"HCC19\"]),\n      \"CARD_RESP_FAIL\": new Set([\"HCC82\", \"HCC83\", \"HCC84\"]),\n      \"CHF\": new Set([\"HCC85\"]),\n      \"gCopdCF\": new Set([\"HCC110\", \"HCC111\", \"HCC112\"]),\n      \"RENAL\": new Set([\"HCC134\", \"HCC135\", \"HCC136\", \"HCC137\"]),\n      \"SEPSIS\": new Set([\"HCC2\"]),\n      \"gSubstanceAbuse\": new Set([\"HCC54\", \"HCC55\"]),\n      \"gPsychiatric\": new Set([\"HCC57\", \"HCC58\"])\n  };\n\n  var my_dcs = {};\n\n  for (var key in diag_cats) {\n      if (diag_cats.hasOwnProperty(key)) {\n          var key_set = new Set(diag_cats[key])\n          var new_values = new Set([...key_set].filter(x => cc_set.has(x)));\n          my_dcs[key] = new_values;\n      }\n  \n  }\n  // Community Interactions\n  int_hccs[\"HCC47_gCancer\"] = my_dcs[\"CANCER\"] && new Set([...new Set([\"HCC47\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"HCC85_gDiabetesMellit\"] = my_dcs[\"DIABETES\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"HCC85_gCopdCF\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"HCC85_gRenal_V23\"] = my_dcs[\"RENAL\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"gRespDepandArre_gCopdCF\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\n  int_hccs[\"HCC85_HCC96\"] = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC96\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"gSubstanceAbuse_gPsychiatric\"] = my_dcs[\"gPsychiatric\"] && my_dcs[\"gSubstanceAbuse\"];\n\n  // institutional model interactions\n  int_hccs[\"PRESSURE_ULCER\"] = new Set([...new Set([\"HCC157\", \"HCC158\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"CHF_gCopdCF\"] = my_dcs[\"CHF\"] && my_dcs[\"gCopdCF\"];\n  int_hccs[\"gCopdCF_CARD_RESP_FAIL\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\n  int_hccs[\"SEPSIS_PRESSURE_ULCER\"] = my_dcs[\"SEPSIS\"] && int_hccs[\"PRESSURE_ULCER\"];\n  int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\n  int_hccs[\"DIABETES_CHF\"] = my_dcs[\"DIABETES\"] && my_dcs[\"CHF\"];\n  int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\n  int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"gCopdCF\"];\n  int_hccs[\"SCHIZOPHRENIA_CHF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"CHF\"];\n  int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC79\"])].filter(x => cc_set.has(x)));\n\n  if (typeof disabl !== 'undefined') {\n      int_hccs[\"DISABLED_HCC85\"] = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_PRESSURE_ULCER\"] = int_hccs[\"PRESSURE_ULCER\"];\n      int_hccs[\"DISABLED_HCC161\"] = new Set([...new Set([\"HCC161\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_HCC39\"] = new Set([...new Set([\"HCC39\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_HCC77\"] = new Set([...new Set([\"HCC77\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_HCC6\"] = new Set([...new Set([\"HCC6\"])].filter(x => cc_set.has(x)));\n\n      if (typeof age !== 'undefined' && age < 65) {\n          int_hccs[\"disable_substAbuse_psych_V23\"] = int_hccs[\"gSubstanceAbuse_gPsychiatric_V23\"]\n      }\n  }\n\n  var int_hccs_new = [];\n  for (var key in int_hccs) {\n     if (int_hccs.hasOwnProperty(key)) {\n          if (int_hccs[key].size !== 0) {\n              int_hccs_new.push(key);\n          }\n      }\n  }\n  return ccs.concat(int_hccs_new)\n}\n\nfunction v23_interactions(ccs, disabl, age = '') {\n  /*\n  Calculated interaction HCCs given a dict of hccs, age, and disability flag\n  :param ccs: List of HCCs in the format \"HCC18\" no trumping or cleaning of HCCs is done in this function\n  :param disabl: CMS disabled flag\n  :param age: Optional age of beneficiary; only one interaction uses age and it will be assumed false if not entered\n  :return: List of HCC codes, including interaction codes\n  */\n  var cc_set = new Set(ccs);\n  var int_hccs = {};\n\n  // diagnostic categories\n\n  var diag_cats = {\n      \"CANCER\": new Set([\"HCC8\", \"HCC9\", \"HCC10\", \"HCC11\", \"HCC12\"]),\n      \"DIABETES\": new Set([\"HCC17\", \"HCC18\", \"HCC19\"]),\n      \"CARD_RESP_FAIL\": new Set([\"HCC82\", \"HCC83\", \"HCC84\"]),\n      \"CHF\": new Set([\"HCC85\"]),\n      \"gCopdCF\": new Set([\"HCC110\", \"HCC111\", \"HCC112\"]),\n      \"RENAL_V23\": new Set([\"HCC134\", \"HCC135\", \"HCC136\", \"HCC137\",\"HCC138\"]),\n      \"SEPSIS\": new Set([\"HCC2\"]),\n      \"gSubstanceAbuse_V23\": new Set([\"HCC54\", \"HCC55\",\"HCC56\"]),\n      \"gPsychiatric_V23\": new Set([\"HCC57\", \"HCC58\",\"HCC59\", \"HCC60\"])\n  };\n\n  var my_dcs = {};\n\n  for (var key in diag_cats) {\n      if (diag_cats.hasOwnProperty(key)) {\n          var key_set = new Set(diag_cats[key])\n          var new_values = new Set([...key_set].filter(x => cc_set.has(x)));\n          my_dcs[key] = new_values;\n      }\n  \n  }\n  // Community Interactions\n  int_hccs[\"HCC47_gCancer\"] = my_dcs[\"CANCER\"] && new Set([...new Set([\"HCC47\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"HCC85_gDiabetesMellit\"] = my_dcs[\"DIABETES\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"HCC85_gCopdCF\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"HCC85_gRenal_V23\"] = my_dcs[\"RENAL_V23\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"gRespDepandArre_gCopdCF\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\n  int_hccs[\"HCC85_HCC96\"] = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC96\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"gSubstanceAbuse_gPsychiatric_V23\"] = my_dcs[\"gPsychiatric_V23\"] && my_dcs[\"gSubstanceAbuse_V23\"];\n\n  // institutional model interactions\n  int_hccs[\"PRESSURE_ULCER\"] = new Set([...new Set([\"HCC157\", \"HCC158\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"CHF_gCopdCF\"] = my_dcs[\"CHF\"] && my_dcs[\"gCopdCF\"];\n  int_hccs[\"gCopdCF_CARD_RESP_FAIL\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\n  int_hccs[\"SEPSIS_PRESSURE_ULCER\"] = my_dcs[\"SEPSIS\"] && int_hccs[\"PRESSURE_ULCER\"];\n  int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\n  int_hccs[\"DIABETES_CHF\"] = my_dcs[\"DIABETES\"] && my_dcs[\"CHF\"];\n  int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\n  int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"gCopdCF\"];\n  int_hccs[\"SCHIZOPHRENIA_CHF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"CHF\"];\n  int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC79\"])].filter(x => cc_set.has(x)));\n\n  if (typeof disabl !== 'undefined') {\n      int_hccs[\"DISABLED_HCC85\"] = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_PRESSURE_ULCER\"] = int_hccs[\"PRESSURE_ULCER\"];\n      int_hccs[\"DISABLED_HCC161\"] = new Set([...new Set([\"HCC161\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_HCC39\"] = new Set([...new Set([\"HCC39\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_HCC77\"] = new Set([...new Set([\"HCC77\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_HCC6\"] = new Set([...new Set([\"HCC6\"])].filter(x => cc_set.has(x)));\n\n      if (typeof age !== 'undefined' && age < 65) {\n          int_hccs[\"disable_substAbuse_psych_V23\"] = int_hccs[\"gSubstanceAbuse_gPsychiatric_V23\"]\n      }\n  }\n\n  var int_hccs_new = [];\n  for (var key in int_hccs) {\n     if (int_hccs.hasOwnProperty(key)) {\n          if (int_hccs[key].size !== 0) {\n              int_hccs_new.push(key);\n          }\n      }\n  }\n  \n  return ccs.concat(int_hccs_new)\n}\n\nfunction v24_interactions(ccs, disabl, age = '') {\n  /*\n  Calculated interaction HCCs given a list of hccs, age, and disability flag\n  :param ccs: List of HCCs in the format \"HCC18\" no trumping or cleaning of HCCs is done in this function\n  :param disabl: CMS disabled flag\n  :param age: Optional age of beneficiary; only one interaction uses age and it will be assumed false if not entered\n  :return: List of HCC codes, including interaction codes\n  */\n  var cc_set = new Set(ccs);\n  var int_hccs = {};\n   var cnt= cc_set.length;\n   int_hccs[\"D10P\"]=cnt>9\n   var index = \"D\".concat(cnt)\n   int_hccs[index] = (cnt > 3 && cnt <10)\n  // diagnostic categories\n\n  var diag_cats = {\n      \"CANCER\": new Set([\"HCC8\", \"HCC9\", \"HCC10\", \"HCC11\", \"HCC12\"]),\n      \"DIABETES\": new Set([\"HCC17\", \"HCC18\", \"HCC19\"]),\n      \"CARD_RESP_FAIL\": new Set([\"HCC82\", \"HCC83\", \"HCC84\"]),\n      \"CHF\": new Set([\"HCC85\"]),\n      \"gCopdCF\": new Set([\"HCC110\", \"HCC111\", \"HCC112\"]),\n      \"RENAL_V24\": new Set([\"HCC134\", \"HCC135\", \"HCC136\", \"HCC137\", \"HCC138\"]),\n      \"SEPSIS\": new Set([\"HCC2\"]),\n      \"gSubstanceAbuse_V24\": new Set([\"HCC54\", \"HCC55\", \"HCC56\"]),\n      \"gPsychiatric_V24\": new Set([\"HCC57\", \"HCC58\", \"HCC59\", \"HCC60\"])\n  };\n\n  var my_dcs = {};\n\n  for (var key in diag_cats) {\n      if (diag_cats.hasOwnProperty(key)) {\n          var key_set = new Set(diag_cats[key])\n          var new_values = new Set([...key_set].filter(x => cc_set.has(x)));\n          my_dcs[key] = new_values;\n      }\n  \n  }\n  // Community Interactions\n  int_hccs[\"HCC47_gCancer\"] = my_dcs[\"CANCER\"] && new Set([...new Set([\"HCC47\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"HCC85_gDiabetesMellit\"] = my_dcs[\"DIABETES\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"HCC85_gCopdCF\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"HCC85_gRenal_V24\"] = my_dcs[\"RENAL_V24\"] && new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"gRespDepandArre_gCopdCF\"] = my_dcs[\"gCopdCF\"] && my_dcs[\"CARD_RESP_FAIL\"];\n  int_hccs[\"HCC85_HCC96\"] = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC96\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"gSubstanceAbuse_gPsychiatric_V24\"] = my_dcs[\"gPsychiatric_V24\"] && my_dcs[\"gSubstanceAbuse_V24\"];\n\n  // institutional model interactions\n  int_hccs[\"PRESSURE_ULCER\"] = new Set([...new Set([\"HCC157\", \"HCC158\"])].filter(x => cc_set.has(x)));   \n  int_hccs[\"SEPSIS_PRESSURE_ULCER\"] = my_dcs[\"SEPSIS\"] && int_hccs[\"PRESSURE_ULCER\"];\n  int_hccs[\"SEPSIS_ARTIF_OPENINGS\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"ART_OPENINGS_PRESSURE_ULCER\"] = new Set([...new Set([\"HCC188\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];       \n  int_hccs[\"gCopdCF_ASP_SPEC_B_PNEUM\"] = my_dcs[\"gCopdCF\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"ASP_SPEC_BACT_PNEUM_PRES_ULC\"] = new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x))) && int_hccs[\"PRESSURE_ULCER\"];\n  int_hccs[\"SEPSIS_ASP_SPEC_BACT_PNEUM\"] = my_dcs[\"SEPSIS\"] && new Set([...new Set([\"HCC114\"])].filter(x => cc_set.has(x)));\n  int_hccs[\"SCHIZOPHRENIA_gCopdCF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"gCopdCF\"];\n  int_hccs[\"SCHIZOPHRENIA_CHF\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && my_dcs[\"CHF\"];\n  int_hccs[\"SCHIZOPHRENIA_SEIZURES\"] = new Set([...new Set([\"HCC57\"])].filter(x => cc_set.has(x))) && new Set([...new Set([\"HCC79\"])].filter(x => cc_set.has(x)));\n\n  if (typeof disabl !== 'undefined') {\n      int_hccs[\"DISABLED_HCC85\"] = new Set([...new Set([\"HCC85\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_PRESSURE_ULCER\"] = int_hccs[\"PRESSURE_ULCER\"];\n      int_hccs[\"DISABLED_HCC161\"] = new Set([...new Set([\"HCC161\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_HCC39\"] = new Set([...new Set([\"HCC39\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_HCC77\"] = new Set([...new Set([\"HCC77\"])].filter(x => cc_set.has(x)));\n      int_hccs[\"DISABLED_HCC6\"] = new Set([...new Set([\"HCC6\"])].filter(x => cc_set.has(x)));\n\n      if (typeof age !== 'undefined' && age < 65) {\n          int_hccs[\"disable_substAbuse_psych_V23\"] = int_hccs[\"gSubstanceAbuse_gPsychiatric_V23\"]\n      }\n  }\n\n  var int_hccs_new = [];\n  for (var key in int_hccs) {\n     if (int_hccs.hasOwnProperty(key)) {\n          if (int_hccs[key].size !== 0) {\n              int_hccs_new.push(key);\n          }\n      }\n  }\n  return ccs.concat(int_hccs_new)\n}\n"],"sourceRoot":""}